:root{
	--bg:#f6f8fb;
	--card:#ffffff;
	--muted:#6b7280;
	--accent:#0f62fe;
	--accent-600:#0b55d1;
	--border: #e6e9ef;
	--shadow: 0 6px 18px rgba(12,23,50,0.06);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
	font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
	margin:0;
	background:var(--bg);
	color:#0b1220;
	-webkit-font-smoothing:antialiased;
}

.container{
	max-width:1100px;
	margin:28px auto;
	padding:0 20px;
}

.site-header{
	background: linear-gradient(90deg, rgba(15,98,254,0.06), rgba(15,98,254,0.02));
	border-bottom:1px solid rgba(15,98,254,0.04);
}
.header-inner{display:flex;align-items:center;justify-content:center;padding:18px 0}
.header-inner .brand{text-align:center}
.brand h1{margin:0;font-size:20px}
.brand .subtitle{margin:4px 0 0;color:var(--muted);font-size:13px}

.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px;box-shadow:var(--shadow)}
.search-card{margin:18px 0}
.search-grid{display:grid;grid-template-columns:minmax(0,1fr) 120px 160px;gap:12px;align-items:end}
.search-grid .field{display:flex;flex-direction:column;min-width:0}
.search-grid .field.small{align-self:center}
.label{font-size:12px;color:var(--muted);margin-bottom:6px}

input,select,button{font-family:inherit}
input[type="text"], input, select{padding:10px 12px;border:1px solid var(--border);border-radius:8px;background:transparent}
/* allow selects to shrink and not force column width */
select{min-width:0;max-width:100%}
input:focus, select:focus{outline:2px solid rgba(15,98,254,0.12);border-color:var(--accent-600)}

.btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:8px;border:1px solid transparent;cursor:pointer}
.btn-primary{background:var(--accent);color:#fff}
.btn-ghost{background:transparent;border:1px solid var(--border);color:var(--muted)}

.btn-small{padding:6px 8px;font-size:13px;border-radius:8px}

/* Input row: query input + clear button */
.input-row{display:flex;gap:8px;align-items:center;min-width:0}
.input-row input{flex:1;min-width:0}

/* Table cells: allow wrapping (pre-wrap) so text flows on small screens. The modal still provides a full-screen view for long content. */
#results td, #results th{
 	/* preserve newlines but allow wrapping; let words break when needed */
 	white-space: pre-wrap !important;
 	word-break: break-word;
 	overflow-wrap: anywhere;
 	vertical-align: top;
 	line-height: 1.45;
 	padding: 12px 12px;
}

#results{width:100%;border-collapse:collapse;margin-top:12px;background:transparent}
#results th,#results td{padding:12px;border-bottom:1px solid var(--border);text-align:left}
#results thead th{background:transparent;color:var(--muted);font-weight:600}
#tbody tr{background:transparent}
#tbody tr:nth-child(even){background:rgba(15,98,254,0.02)}

.table-card{margin-top:18px;padding:8px}
.table-scroll{overflow-x:auto;-webkit-overflow-scrolling:touch}
/* Remove forced min-width so table can shrink and wrap on small screens; keep horizontal scroll if content still overflows */
/* No min-width set to allow responsive wrapping */

#stats{margin-top:8px;color:var(--muted)}
.hidden{display:none}

footer.site-footer{margin:18px 0;color:var(--muted);font-size:13px;text-align:center}

mark{background:#fff19b;padding:0 4px;border-radius:3px}

/* Emphasis for 'Must' labels */
.must{color:#d32f2f;font-weight:700}

/* Try emphasis */
.try{color:#1976d2;font-weight:700}

/* Row-level emphasis: color entire row text */
tr.row-must td, .row-must td{color:#d32f2f}
tr.row-try td, .row-try td{color:#1976d2}

/* Source tabs styling */
.source-tabs{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0}
.source-tabs button{background:#f8fafc;border:1px solid var(--border);padding:8px 12px;border-radius:999px;cursor:pointer;color:var(--muted)}
.source-tabs button.active{background:var(--accent);color:#fff;border-color:transparent}

/* Accessibility helper */
.sr-only{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

/* Responsive tweaks */
@media (max-width: 880px){
	.search-grid{grid-template-columns:minmax(0,1fr) 120px;}
}

@media (max-width: 720px){
	.container{margin:14px auto;padding:0 14px}
	.header-inner{padding:12px 0}
	.brand h1{font-size:18px}
	.search-grid{grid-template-columns:1fr;gap:10px}
	.search-grid .field.small{flex-direction:row;align-items:center;gap:8px}
 	/* allow the results table to shrink on small screens to avoid pushing content off-screen */
 	#results{min-width:0; width:100%}

	/* On small screens show only essential columns: date, zone, place. Hide others. */
	/* Classes are added to th/td as col-date / col-zone / col-place / col-other */
	#results th[class^="col-"], #results td[class^="col-"] { display:table-cell; }
	#results th.col-other, #results td.col-other,
	.source-table th.col-other, .source-table td.col-other { display:none; }
}

/* Modal (detail view) */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(3,11,28,0.6);z-index:1200}
.modal.hidden{display:none}
.modal-inner{background:var(--card);width:auto;max-width:95vw;min-width:320px;height:auto;max-height:90vh;margin:0;border-radius:12px;padding:16px;box-shadow:var(--shadow);overflow:visible;box-sizing:border-box}
.modal-header{display:flex;justify-content:flex-end}
.modal-content{padding:6px 4px}
.modal-content dl{margin:0}
.modal-content dt{font-weight:600;margin-top:12px;color:var(--muted)}
.modal-content dd{margin:6px 0 12px;white-space:pre-wrap}

@media(min-width:720px){
	/* On larger screens, constrain modal width to a comfortable reading measure */
	.modal-inner{width:auto;max-width:900px;min-width:480px;height:auto;max-height:80vh;border-radius:12px}
}

/* Modal footer centered at bottom */
.modal-inner{display:flex;flex-direction:column}
.modal-content{flex:0 1 auto;overflow:auto;max-height:calc(90vh - 120px)}
.modal-footer{display:flex;justify-content:center;padding:12px 0;border-top:1px solid var(--border);background:transparent;}
.modal-footer .btn{min-width:120px}

/* Responsive tweaks for 'ข้อมูลเสริม' (places_extra) modal content */
.modal.source-extra .modal-inner{
	/* Use the same centered adaptive sizing as the default modal */
	width:auto;
	max-width:95vw;
	min-width:320px;
	height:auto;
	max-height:90vh;
	border-radius:12px;
	padding:12px;
	box-sizing:border-box;
}
.modal.source-extra .modal-inner .modal-content{padding:8px}
.modal.source-extra .modal-content{overflow:auto}
.modal.source-extra .modal-content table{width:100%;table-layout:fixed;border-collapse:collapse}
.modal.source-extra .modal-content th,.modal.source-extra .modal-content td{max-width:100%;overflow-wrap:anywhere}
.modal.source-extra .modal-content th,.modal.source-extra .modal-content td{white-space:normal;word-break:break-word;overflow-wrap:anywhere;padding:8px}
.modal.source-extra .modal-content img{max-width:100%;height:auto;display:block;margin:8px 0}
.modal.source-extra .modal-content pre{white-space:pre-wrap}

